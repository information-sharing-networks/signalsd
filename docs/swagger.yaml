consumes:
- application/json
definitions:
  apperrors.ErrorCode:
    enum:
    - access_token_expired
    - authentication_error
    - authorization_error
    - database_error
    - forbidden
    - internal_error
    - invalid_request
    - malformed_body
    - not_implemented
    - password_too_short
    - refresh_token_expired
    - refresh_token_revoked
    - resource_already_exists
    - resource_not_found
    - signal_def_closed
    - token_error
    - user_alread_exists
    - user_not_found
    type: string
    x-enum-varnames:
    - ErrCodeAccessTokenExpired
    - ErrCodeAuthenticationFailure
    - ErrCodeAuthorizationFailure
    - ErrCodeDatabaseError
    - ErrCodeForbidden
    - ErrCodeInternalError
    - ErrCodeInvalidRequest
    - ErrCodeMalformedBody
    - ErrCodeNotImplemented
    - ErrCodePasswordTooShort
    - ErrCodeRefreshTokenExpired
    - ErrCodeRefreshTokenRevoked
    - ErrCodeResourceAlreadyExists
    - ErrCodeResourceNotFound
    - ErrCodeSignalDefClosed
    - ErrCodeTokenError
    - ErrCodeUserAlreadyExists
    - ErrCodeUserNotFound
  apperrors.ErrorResponse:
    properties:
      error_code:
        allOf:
        - $ref: '#/definitions/apperrors.ErrorCode'
        example: example_error_code
      message:
        type: string
    type: object
  database.GetForDisplayUserByIDRow:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
    type: object
  database.GetForDisplayUserBySignalDefIDRow:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      updated_at:
        type: string
    type: object
  database.GetSignalDefsRow:
    properties:
      created_at:
        type: string
      detail:
        type: string
      email:
        type: string
      id:
        type: string
      isn_id:
        type: string
      readme_url:
        type: string
      schema_url:
        type: string
      sem_ver:
        type: string
      slug:
        type: string
      stage:
        type: string
      title:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  database.Isn:
    properties:
      created_at:
        type: string
      detail:
        type: string
      id:
        type: string
      is_in_use:
        type: boolean
      slug:
        type: string
      storage_type:
        type: string
      title:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
      visibility:
        type: string
    type: object
  handlers.CreateIsnReceiverRequest:
    properties:
      default_rate_limit:
        description: maximum number of requests per minute
        example: 600
        type: integer
      detail:
        example: Sample ISN Receiver description
        type: string
      isn_slug:
        example: sample-ISN--example-org
        type: string
      max_batch_records:
        example: 100
        type: integer
      max_daily_validation_failures:
        description: default = 0
        example: 5
        type: integer
      max_payload_kilobytes:
        example: 50
        type: integer
      min_batch_records:
        example: 10
        type: integer
      payload_validation:
        enum:
        - always
        - never
        - optional
        example: always
        type: string
      receiver_origin:
        description: do not provide this field if the isn is using local storage
        example: http://example.com:8080
        type: string
      receiver_status:
        enum:
        - offline
        - ' online'
        - ' error'
        - ' closed'
        example: offline
        type: string
      title:
        example: Sample ISN Receiver @example.org
        type: string
    type: object
  handlers.CreateIsnReceiverResponse:
    properties:
      id:
        example: 4f1bc74b-cf79-410f-9c21-dc2cba047385
        type: string
      receiver_url:
        example: http://localhost:8080/signals/receiver/sample-ISN-receiver--example-org
        type: string
      resource_url:
        example: http://localhost:8080/api/isn/receiver/sample-ISN-receiver--example-org
        type: string
      slug:
        example: sample-ISN-receiver--example-org
        type: string
    type: object
  handlers.CreateIsnRequest:
    properties:
      detail:
        example: Sample ISN description
        type: string
      is_in_use:
        example: true
        type: boolean
      storage_type:
        example: mq
        type: string
      title:
        example: Sample ISN @example.org
        type: string
      visibility:
        enum:
        - public
        - private
        example: private
        type: string
    type: object
  handlers.CreateIsnResponse:
    properties:
      id:
        example: 67890684-3b14-42cf-b785-df28ce570400
        type: string
      resource_url:
        example: http://localhost:8080/api/isn/sample-ISN--example-org
        type: string
      slug:
        example: sample-ISN--example-org
        type: string
    type: object
  handlers.CreateIsnRetrieverRequest:
    properties:
      default_rate_limit:
        description: maximum number of requests per minute
        example: 600
        type: integer
      detail:
        example: sample-ISN--example-org
        type: string
      isn_slug:
        example: sample-ISN--example-org
        type: string
      retriever_origin:
        description: do not provide this field if the isn is using local storage
        example: http://example.com:8080
        type: string
      retriever_status:
        enum:
        - offline
        - ' online'
        - ' error'
        - ' closed'
        example: offline
        type: string
      title:
        example: Sample ISN Retriever @example.org
        type: string
    type: object
  handlers.CreateIsnRetrieverResponse:
    properties:
      id:
        example: 4f1bc74b-cf79-410f-9c21-dc2cba047385
        type: string
      resource_url:
        example: http://localhost:8080/api/isn/retriever/sample-ISN-retriever--example-org
        type: string
      retriever_url:
        example: http://localhost:8080/signals/retriever/sample-ISN-retriever--example-org
        type: string
      slug:
        example: sample-ISN-retriever--example-org
        type: string
    type: object
  handlers.CreateSignalDefRequest:
    properties:
      bump_type:
        description: this is used to increment semver for the signal definition
        enum:
        - major
        - minor
        - patch
        example: patch
        type: string
      detail:
        description: updated description
        example: description
        type: string
      isn_slug:
        example: sample-ISN--example-org
        type: string
      readme_url:
        description: Updated readem file. Note file must be on a public github repo
        example: https://github.com/user/project/v0.0.1/locales/filename.md
        type: string
      schema_url:
        description: Note file must be on a public github repo
        example: https://github.com/user/project/v0.0.1/locales/filename.json
        type: string
      stage:
        description: updated stage
        enum:
        - dev
        - test
        - live
        - deprecated
        - closed
        - shuttered
        type: string
      title:
        description: unique title
        example: Sample Signal @example.org
        type: string
    type: object
  handlers.CreateSignalDefResponse:
    properties:
      id:
        example: 8e4bf0e9-b962-4707-9639-ef314dcf6fed
        type: string
      resource_url:
        type: string
      sem_ver:
        example: 0.0.1
        type: string
      slug:
        example: sample-signal--example-org
        type: string
    type: object
  handlers.CreateUserRequest:
    properties:
      email:
        example: example@example.com
        type: string
      password:
        description: passwords must be at least 11 chars long
        example: lkIB53@6O^Y
        type: string
    type: object
  handlers.CreateUserResponse:
    properties:
      id:
        example: 68fb5f5b-e3f5-4a96-8d35-cd2203a06f73
        type: string
      resource_url:
        example: http://localhost:8080/api/users/01a38b82-cbc7-4a24-b61f-e55cb99ac41e
        type: string
    type: object
  handlers.LoginRequest:
    properties:
      email:
        example: example@example.com
        type: string
      password:
        description: passwords must be at least 11 chars long
        example: lkIB53@6O^Y
        type: string
    type: object
  handlers.LoginResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJTaWduYWxTZXJ2ZXIiLCJzdWIiOiI2OGZiNWY1Yi1lM2Y1LTRhOTYtOGQzNS1jZDIyMDNhMDZmNzMiLCJleHAiOjE3NDY3NzA2MzQsImlhdCI6MTc0Njc2NzAzNH0.3OdnUNgrvt1Zxs9AlLeaC9DVT6Xwc6uGvFQHb6nDfZs
        type: string
      created_at:
        example: "2025-05-09T05:41:22.57328+01:00"
        type: string
      refresh_token:
        example: fb948e0b74de1f65e801b4e70fc9c047424ab775f2b4dc5226f472f3b6460c37
        type: string
      user_id:
        example: 68fb5f5b-e3f5-4a96-8d35-cd2203a06f73
        type: string
    type: object
  handlers.RefreshAccessTokenHandler.refreshResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJTaWduYWxTZXJ2ZXIiLCJzdWIiOiI2OGZiNWY1Yi1lM2Y1LTRhOTYtOGQzNS1jZDIyMDNhMDZmNzMiLCJleHAiOjE3NDY3NzA2MzQsImlhdCI6MTc0Njc2NzAzNH0.3OdnUNgrvt1Zxs9AlLeaC9DVT6Xwc6uGvFQHb6nDfZs
        type: string
    type: object
  handlers.RevokeRefreshTokenHandler.revokeRefreshTokenRequest:
    properties:
      refresh_token:
        example: fb948e0b74de1f65e801b4e70fc9c047424ab775f2b4dc5226f472f3b6460c37
        type: string
    type: object
  handlers.SignalDefAndLinkedInfo:
    properties:
      created_at:
        type: string
      detail:
        type: string
      id:
        type: string
      isn:
        $ref: '#/definitions/database.Isn'
      readme_url:
        type: string
      schema_url:
        type: string
      sem_ver:
        type: string
      slug:
        type: string
      stage:
        type: string
      title:
        type: string
      updated_at:
        type: string
      user:
        $ref: '#/definitions/database.GetForDisplayUserBySignalDefIDRow'
    type: object
  handlers.UpdateIsnReceiverRequest:
    properties:
      default_rate_limit:
        description: maximum number of requests per minute
        example: 600
        type: integer
      detail:
        example: Sample ISN Receiver description
        type: string
      max_batch_records:
        example: 100
        type: integer
      max_daily_validation_failures:
        description: default = 0
        example: 5
        type: integer
      max_payload_kilobytes:
        example: 50
        type: integer
      min_batch_records:
        example: 10
        type: integer
      payload_validation:
        enum:
        - always
        - never
        - optional
        example: always
        type: string
      receiver_origin:
        description: do not provide this field if the isn is using local storage
        example: http://example.com:8080
        type: string
      receiver_status:
        enum:
        - offline
        - ' online'
        - ' error'
        - ' closed'
        example: offline
        type: string
    type: object
  handlers.UpdateIsnRequest:
    properties:
      detail:
        example: Sample ISN description
        type: string
      is_in_use:
        example: true
        type: boolean
      storage_type:
        example: mq
        type: string
      visibility:
        enum:
        - public
        - private
        example: private
        type: string
    type: object
  handlers.UpdateIsnRetrieverRequest:
    properties:
      default_rate_limit:
        description: maximum number of requests per minute
        example: 600
        type: integer
      detail:
        example: sample-ISN--example-org
        type: string
      retriever_origin:
        description: do not provide this field if the isn is using local storage
        example: http://example.com:8080
        type: string
      retriever_status:
        enum:
        - offline
        - ' online'
        - ' error'
        - ' closed'
        example: offline
        type: string
    type: object
  handlers.UpdatePasswordRequest:
    properties:
      current_password:
        example: lkIB53@6O^Y
        type: string
      new_password:
        example: ue6U>&X3j570
        type: string
    type: object
  handlers.UpdateSignalDefRequest:
    properties:
      detail:
        description: updated description
        example: description
        type: string
      readme_url:
        description: Updated readem file. Note file must be on a public github repo
        example: https://github.com/user/project/v0.0.1/locales/filename.md
        type: string
      stage:
        description: updated stage
        enum:
        - dev
        - test
        - live
        - deprecated
        - closed
        - shuttered
        type: string
    type: object
host: localhost:8080
info:
  contact: {}
  description: Signals ISN service API
paths:
  /admin/health:
    get:
      description: check if the signals service is running
      responses:
        "200":
          description: OK
        "404":
          description: Not Found
      summary: Health
      tags:
      - admin
  /admin/reset:
    post:
      description: |-
        Delete all registered users and associated data.
        This endpoint only works on environments configured as 'dev'
      responses:
        "200":
          description: OK
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: reset
      tags:
      - admin
  /api/isn/{isn_slug}:
    post:
      description: |-
        Create an Information Sharing Network (ISN)

        visibility = "private" means that signals on the network can only be seen by network participants.

        The only storage_type currently supported is "local"
        when storage_type = "local" the signals are stored in the relational database used by the API service to store the admin configuration
      parameters:
      - description: ISN details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIsnRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateIsnResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Create an ISN
      tags:
      - ISN config
    put:
      description: Update the ISN details
      parameters:
      - description: isn slug
        example: sample-ISN--example-org
        in: path
        name: isn_slug
        required: true
        type: string
      - description: ISN details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIsnRequest'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Update an ISN
      tags:
      - ISN config
  /api/isn/receiver/{isn_receivers_slug}:
    put:
      description: the receiver service should be hosted on {receiver_origin}/signals/receiver/{receiver_slug}
      parameters:
      - description: isn receiver slug
        example: sample-ISN-receiver--example-org
        in: path
        name: isn_receivers_slug
        required: true
        type: string
      - description: ISN receiver details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIsnReceiverRequest'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Update an ISN Receiver
      tags:
      - ISN config
  /api/isn/receiver/{receiver_slug}:
    post:
      description: |-
        A receiver service handles incoming signals and will be hosted on {receiver_origin}/signals/receiver/{receiver_slug}

        When the ISN storage_type is set to "local", the receiver_origin must also be "local", indicating that the signals are stored in the relational database used by the API service.

        the receiver service should be hosted on {receiver_origin}/signals/receiver/{receiver_slug}
      parameters:
      - description: ISN receiver details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIsnReceiverRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateIsnReceiverResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Create an ISN Receiver
      tags:
      - ISN config
  /api/isn/retriever/{isn_retrievers_slug}:
    put:
      parameters:
      - description: isn retriever slug
        example: sample-ISN-retriever--example-org
        in: path
        name: isn_retrievers_slug
        required: true
        type: string
      - description: ISN retriever details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateIsnRetrieverRequest'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Update an ISN Retriever
      tags:
      - ISN config
  /api/isn/retriever/{retriever_slug}:
    post:
      description: |
        the retriever service handles requests to get signals and will be hosted on {retriever_origin}/signals/retriever/{retriever_slug}

        When the ISN storage_type is set to "local", the retriever_origin must also be "local", indicating that the signals are retieved from the relational database used by the API service.
      parameters:
      - description: ISN retriever details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateIsnRetrieverRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateIsnRetrieverResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Create an ISN Retriever
      tags:
      - ISN config
  /api/signal_defs:
    get:
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.GetSignalDefsRow'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Get the signal definitions
      tags:
      - signal definitions
    post:
      description: |
        A signal definition describes a data set that is sharable over an ISN.  Setup the ISN before defining any signal defs.

        A URL-friendly slug is created based on the title supplied when you load the first version of a definition.
        The title and slug fields can't be changed and it is not allowed to reuse a slug that was created by another account.

        Slugs are vesioned automatically with semvers: when there is a change to the schema describing the data, the user should create a new definition and specify the bump type (major/minor/patch) to increment the semver

        Signal definitions are referred to with a url like this http://{hostname}/api/signal_defs/{slug}/v{sem_ver}
      parameters:
      - description: signal definition details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateSignalDefRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateSignalDefResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Create signal definition
      tags:
      - signal definitions
  /api/signal_defs/{slug}/v{sem_ver}:
    delete:
      parameters:
      - description: signal definiton slug
        example: sample-signal--example-org
        in: path
        name: slug
        required: true
        type: string
      - description: version to be recieved
        example: 0.0.1
        in: path
        name: sem_ver
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Delete signal definition
      tags:
      - signal definitions
    get:
      parameters:
      - description: signal definiton slug
        example: sample-signal--example-org
        in: path
        name: slug
        required: true
        type: string
      - description: version to be recieved
        example: 0.0.1
        in: path
        name: sem_ver
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.SignalDefAndLinkedInfo'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Get a signal definition
      tags:
      - signal definitions
    put:
      description: |-
        users can update the detailed description, the stage or the link to the readme md

        It is not allowed to update the schema url - instead users should create a new declaration with the same title and bump the version
      parameters:
      - description: signal definiton slug
        example: sample-signal--example-org
        in: path
        name: slug
        required: true
        type: string
      - description: version to be recieved
        example: 0.0.1
        in: path
        name: sem_ver
        required: true
        type: string
      - description: signal definition details to be updated
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateSignalDefRequest'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Update signal definition
      tags:
      - signal definitions
  /api/users/{id}:
    get:
      parameters:
      - description: user id
        example: 68fb5f5b-e3f5-4a96-8d35-cd2203a06f73
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.GetForDisplayUserByIDRow'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Get registered user
      tags:
      - auth
  /auth/login:
    post:
      description: |-
        The response body includes an access token and a refresh_token.
        The access_token is valid for 1 hour.

        Use the refresh_token with the /auth/refresh-token endpoint to renew the access_token.
        The refresh_token lasts 60 days unless it is revoked earlier.
        To renew the refresh_token, log in again.
      parameters:
      - description: email and password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Login
      tags:
      - auth
  /auth/password/reset:
    put:
      description: |-
        Use this api to reset the users password.  Requires a valid access token and the current password
        TODO - forgotten password facility
      parameters:
      - description: user details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdatePasswordRequest'
      - description: user id
        example: sample-ISN--example-org
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerAccessToken: []
      summary: Update password
      tags:
      - auth
  /auth/refresh-token:
    post:
      description: |-
        Returns a new JWT access token.
        Access tokens are not issued if the refresh token has expired or been revoked.
        Users must log in again to obtain a new refresh token if the current one has expired or been revoked.
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.RefreshAccessTokenHandler.refreshResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      security:
      - BearerRefreshToken: []
      summary: Refresh access token
      tags:
      - auth
  /auth/register:
    post:
      parameters:
      - description: user details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateUserRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateUserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Create user
      tags:
      - auth
  /auth/revoke-refresh-token:
    post:
      description: |-
        Revoke a refresh token to prevent it being used to create new access tokens.

        Note that any unexpired access tokens issued for this user will continue to work until they expire.
        Users must log in again to obtain a new refresh token if the current one has been revoked.

        Anyone in possession of a refresh token can revoke it
      parameters:
      - description: refresh token to be revoked
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RevokeRefreshTokenHandler.revokeRefreshTokenRequest'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/apperrors.ErrorResponse'
      summary: Revoke refresh token
      tags:
      - auth
produces:
- application/json
securityDefinitions:
  BearerAccessToken:
    description: Bearer {JWT access token}
    in: header
    name: Authorization
    type: apiKey
  BearerRefreshToken:
    description: Bearer { refresh token }
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: User and token management endpoints
  name: auth
- description: signal definitions describe the format of the data being shared in
    an ISN
  name: signal definitions
- description: Information sharing networks are used to exchange signals between participating
    users.
  name: ISN config
